<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>STFL | Set Targets, Fuel Life</title>
  <meta name="description" content="STFL is coming soon — high-energy gear and culture for those who set targets and fuel life." />
  <style>
    :root {
      --stfl-yellow:#ffea00; --stfl-orange:#ff9100; --stfl-magenta:#ff00aa; --stfl-blue:#118ab2;
      --bg-0:#0a0f14; --bg-1:#0f1622; --text:#f3f6fb; --muted:#a8b1c2; --focus:var(--stfl-blue);
      --border: color-mix(in oklab, white 8%, transparent);
      --card: color-mix(in oklab, var(--bg-1) 86%, transparent);
      --cardw: 860px;
      --frame-pad: 24px;
    }
    * { box-sizing: border-box; } html, body { height: 100%; }
    body {
      margin: 0; color: var(--text); font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
      background: var(--bg-0);
      background-image:
        radial-gradient(60% 50% at 0% 0%, color-mix(in oklab, var(--stfl-blue) 28%, transparent) 0%, transparent 70%),
        radial-gradient(55% 40% at 100% 10%, color-mix(in oklab, var(--stfl-magenta) 32%, transparent) 0%, transparent 75%),
        radial-gradient(65% 45% at 0% 100%, color-mix(in oklab, var(--stfl-yellow) 35%, transparent) 0%, transparent 70%),
        radial-gradient(60% 45% at 100% 100%, color-mix(in oklab, var(--stfl-orange) 32%, transparent) 0%, transparent 70%),
        linear-gradient(120deg, rgba(255,255,255,0.02), rgba(255,255,255,0) 40%, rgba(0,0,0,0.15) 60%, rgba(255,255,255,0.015) 100%);
      background-attachment: fixed; overflow-x: hidden;
    }
    body::before {
      content: "";
      position: fixed; inset: -20vmax;
      background: conic-gradient(from 0deg at 50% 50%, var(--stfl-magenta) 0%, transparent 25%, var(--stfl-blue) 50%, transparent 75%, var(--stfl-yellow) 100%);
      filter: blur(100px); opacity: .10; animation: stfl-spin 80s linear infinite;
      pointer-events: none; mix-blend-mode: screen;
    }
    @keyframes stfl-spin { to { transform: rotate(1turn); } }

    header { position: sticky; top: 0; z-index: 10; backdrop-filter: blur(8px);
      background: color-mix(in oklab, var(--bg-0) 70%, transparent);
      border-bottom: 1px solid color-mix(in oklab, white 7%, transparent); }
    header .container {
      width: min(100vw, calc(var(--cardw) + 2 * var(--frame-pad)));
      margin: 0 auto;
      padding: 0 var(--frame-pad);
    }
    .container { width: 100%; margin: 0 auto; padding: var(--frame-pad); }
    .bar { display: flex; align-items: center; justify-content: space-between; gap: 16px; padding: 10px 0; }
    .brand { display:flex; align-items:center; gap:12px; text-transform:uppercase; font-weight:800; letter-spacing:.06em; }
    .brand .logo-type { font-size: 1.05rem; }

    .btn { appearance:none; border:0; cursor:pointer; border-radius:999px; padding:12px 20px; font-weight:700; letter-spacing:.02em;
      color:#0b0f14; background: linear-gradient(90deg, var(--stfl-yellow), var(--stfl-orange));
      box-shadow: 0 8px 24px rgba(255,145,0,.35);
      transition: transform .15s ease, box-shadow .2s ease, filter .15s ease;
    }
    .btn:hover { transform: translateY(-1px); filter: brightness(1.05); box-shadow: 0 10px 30px rgba(255,145,0,.45); }
    .btn-outline { color: var(--text); background: transparent; border: 1px solid color-mix(in oklab, var(--text) 22%, transparent); box-shadow: none; }

    .hero-wrap { display:grid; place-items:center; min-height: calc(100dvh - 120px); }
    .hero { text-align: center; width: 100%; }

    .headline { font-size: clamp(1.5rem, 3.6vw, 2.3rem); line-height: 1.2; margin: 8px 0 10px; font-weight: 900; }
    .headline-soft {
      display:inline-block;
      font-size: clamp(1.2rem, 2.9vw, 1.85rem);
      line-height: 1.2;
      font-weight: 800;
      color: color-mix(in oklab, var(--text) 82%, var(--muted) 18%);
      margin-top: 10px;
      margin-bottom: 12px;
    }
    .drop-line { margin: 0 auto 8px; font-size: clamp(1rem, 2.1vw, 1.15rem); color: var(--muted); }
    .subhead { color: var(--muted); font-size: clamp(1rem, 2vw, 1.1rem); margin: 0 0 18px; }

    .underline { height: 5px; width: clamp(160px, 35vw, 360px); margin: 12px auto 0; border-radius: 999px;
      background: linear-gradient(90deg, var(--stfl-blue), var(--stfl-magenta), var(--stfl-orange), var(--stfl-yellow));
      box-shadow: 0 8px 30px color-mix(in oklab, var(--stfl-magenta) 35%, transparent);
    }

    .card { background: var(--card); border:1px solid var(--border);
      border-radius: 20px; padding: 24px; box-shadow: 0 12px 40px rgba(0,0,0,.35);
      width: min(calc(100vw - 2 * var(--frame-pad)), var(--cardw)); margin: 0 auto; }
    .card * { max-width: 100%; }

    .logo-stack { display:grid; justify-items:center; row-gap:0; }
    .tagline-hero {
      display:inline-block;
      margin: -4px 0 14px 0;
      padding-bottom: 6px;
      font-weight: 900; letter-spacing: .055em; line-height: 1.18;
      font-size: clamp(1.7rem, 5.2vw, 3rem);
      background: linear-gradient(90deg, var(--stfl-yellow), var(--stfl-orange), var(--stfl-magenta), var(--stfl-blue));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 2px 10px rgba(0,0,0,.35));
      overflow: visible;
      white-space: normal;
    }
    .hero-logo { display:block; width: min(82%, 620px); height: auto; margin: 0 auto 0; filter: drop-shadow(0 18px 40px rgba(0,0,0,.35)); }

    .only-mobile { display: none; }
    .only-desktop { display: inline; }

    section#subscribe { padding: 48px 0 90px; }
    form { display:grid; grid-template-columns: 1fr auto; gap: 12px; align-items:center; }
    label[for=email] { position:absolute; left:-9999px; }
    input[type=email] { width: 100%; padding: 14px 16px; border-radius: 14px; border:1px solid color-mix(in oklab, white 12%, transparent);
      background: rgba(255,255,255,.04); color: var(--text); font-size: 1rem; }
    input[type=email]::placeholder { color: color-mix(in oklab, var(--muted) 80%, white 0%); }
    .consent { display:flex; gap:10px; align-items:flex-start; color: var(--muted); font-size: .9rem; margin-top: 8px; }
    .consent input { translate: 0 2px; }

    footer { color: var(--muted); font-size: .9rem; padding: 24px 0 60px; text-align:center; }
    .socials { margin-top: 14px; display:flex; justify-content:center; gap:12px; }
    .social { display:inline-flex; align-items:center; justify-content:center; padding:10px; border-radius: 14px;
      background: color-mix(in oklab, var(--bg-1) 50%, transparent); border: 1px solid var(--border);
      transition: transform .15s ease, filter .2s ease; }
    .social:hover { transform: translateY(-1px) scale(1.04); filter: brightness(1.1); }
    .social svg { width: 28px; height: 28px; display:block; }
  </style>
</head>
<body>
  <header>
    <div class="container bar">
      <div class="brand"><div class="logo-type">#STFL</div></div>
      <nav><button class="btn btn-outline" data-scroll="#subscribe" aria-label="Jump to subscribe form">Subscribe</button></nav>
    </div>
  </header>

  <main class="hero-wrap">
    <section class="hero container">
      <div class="card">
        <div class="logo-stack">
          <div class="tagline-hero"># Set Targets, Fuel Life</div>
          <img class="hero-logo" src="stfl-logo.png" alt="STFL brand logo large" />
        </div>

        <h1 class="headline">
          <span class="only-desktop">Whether it’s your first 10K, a marathon PR,<br>
or the road to triathlon glory<br>
<span class="headline-soft">STFL fuels every stride, every stroke,<br>
every target in sight.</span></span>
          <span class="only-mobile">Whether it’s your first 10K,<br>
a marathon PR,<br>
or the road to triathlon glory<br>
<br>
<span class="headline-soft">STFL fuels every stride,<br>
every stroke,<br>
every target in sight.</span></span>
        </h1>

        <p class="drop-line">High-energy athletic gear and culture built for those who set targets and fuel life.</p>
        <p class="subhead only-mobile">High-energy gear and culture<br>
built for those<br>
who set targets and fuel life.</p>

        <div class="underline"></div>
        <div class="cta-row" style="margin-top:18px; display:flex; justify-content:center; gap:12px;">
          <button class="btn" data-scroll="#subscribe">Subscribe</button>
        </div>
      </div>
    </section>

    <section id="subscribe" class="container" aria-label="Subscribe">
      <div class="card">
        <h2 style="margin-top:0;">Get launch updates</h2>
        <p class="subhead" style="text-align:left;margin:6px 0 14px;">Drop your email and we'll notify you when STFL goes live. No spam — just the good stuff.</p>
        <form id="subscribe-form" novalidate>
          <label for="email">Email address</label>
          <input id="email" name="email" type="email" placeholder="you@email.com" required autocomplete="email"/>
          <div class="consent"><input type="checkbox" id="consent"/><label for="consent">I agree to receive emails about STFL's launch.</label></div>
          <div style="display:flex; gap:12px; align-items:center; margin-top:8px;">
            <button class="btn" id="subscribe-btn" type="submit">Subscribe</button>
            <p id="feedback" role="status" aria-live="polite" style="min-height:24px;"></p>
          </div>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div>© STFL 2025 | Set Targets, Fuel Life</div>
      <div class="socials">
        <a class="social strava" href="https://www.strava.com/athletes/5339361" target="_blank" rel="noopener noreferrer" aria-label="Open Strava profile">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path fill="#FC4C02" d="M6 18l6-12 6 12h-5l-1-2-1 2H6z"/>
          </svg>
        </a>
      </div>
    </div>
  </footer>

  <script>
    document.querySelectorAll('[data-scroll]').forEach(b=>b.addEventListener('click',()=>{
      const t=document.querySelector(b.getAttribute('data-scroll'));
      if(t) t.scrollIntoView({behavior:'smooth'});
    }));

    const GROUP_ID = "168721174766814526"; // Server gets the API key, not the client
    const form = document.getElementById('subscribe-form');
    const email = document.getElementById('email');
    const consent = document.getElementById('consent');
    const feedback = document.getElementById('feedback');

    function say(t, ok=false){ feedback.textContent=t; feedback.style.color= ok? '#ffea00':'salmon'; }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const v = email.value.trim();
      if (!v) return say("Please enter your email.");
      if (!consent.checked) return say("Please confirm consent.");
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v)) return say("That email doesn't look valid.");

      try {
        const res = await fetch("/api/ml-subscribe", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email: v, groupId: GROUP_ID })
        });

        if (res.ok) {
          say("Thanks! You're on the list.", true);
          form.reset(); consent.checked = false;
        } else {
          const err = await res.json().catch(()=>({}));
          console.error("Subscribe error:", err);
          say("Oops, something went wrong. Try again later.");
        }
      } catch (err) {
        console.error(err);
        say("Network error. Please try again.");
      }
    });
  </script>
</body>
</html>
